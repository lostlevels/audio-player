<html>
  <head>
    <title>AudioPlayer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../build/build.css" type="text/css">
    <style>
      body {
        margin: 0;
        padding: 1em;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 100%;
      }
      label {
        display: block;
      }
      .playlist {
        margin: 1em 0;
        padding: 0;
        list-style: none;
      }
      .playlist > li {
        margin: 0;
        padding: 0.5em 0;
      }
      .playlist > li:hover {
        background: #efefef;
      }
    </style>
  </head>
  <body>
    <h1>AudioPlayer</h1>
    <button class="prev" do="previous">Previous</button>
    <button class="stop" do="stop">Stop</button>
    <button class="pause" do="pause">Pause</button>
    <button class="play" do="play">Play</button>
    <button class="next" do="next">Next</button>
    <button class="shuffle">Shuffle</button>
    <button class="loop">Loop</button>
    <ul class="playlist"></ul>
    <div>
      <label class="source-title">Source: <span></span></label>
      <label class="time-remaining">Time Remaining: <span></span></label>
    </div>
    <script src="../build/build.js"></script>
    <script>
      var AudioPlayer = require("audio-player");
      var ap = new AudioPlayer();
      ap.addAndPlay({source:"./1 PM.mp3"});
      ap.add({source:"./2 PM.mp3"});
      ap.add({source:"./3 PM.mp3"});
      ap.add({source:"./The Fire.mp3"});
      ap.add({source:"./Divided.mp3"});
      ap.add({source:"./Closer.mp3"});
      
      var button = document.getElementsByTagName("button");
      for(var i = 0; i < button.length; i++) {
        button[i].addEventListener('click', playerAction);
      }

      function playerAction () {
        var element = this.getAttribute('do');
        if (!element) {
          var attribute = this.getAttribute('class');
          toggleAttribute(attribute);
        } else {
          ap[element]();
        }
      };
      
      function toggleAttribute (attribute) {
        if( ap[attribute] === true ) {
          ap[attribute] = false;
        } else {
          ap[attribute] = true;
        }
      }

    </script>
  </body>
</html>
